# 1. 基礎

該当インプット：
- Chapter1

## POSSE課題

### AWSの主要なサービス名を聞いてその役割を説明できるか

| サービス名       | 役割 | ユースケース |
| ------------------ | ---- | ----------- |
| Amazon EC2         | コンピューティングキャパシティを提供 → サーバー、OS、ソフトウェアなどを一式レンタルできる → 性能が可変 | ウェブアプリケーションやデータベースサーバーなど → 高い柔軟性を持つコンピュート環境が必要な場合に利用 |
| Amazon S3          | オブジェクトストレージサービス → ファイルの保管場所 → ファイルサイズは最大5TB、全容量は無制限 | バックアップやデータアーカイブ、画像・動画などの静的データの保存 |
| Amazon VPC         | AWSアカウント専用の仮想ネットワーク → 安全なリソースの運用を可能にする | 独自のネットワーク設定を必要とするウェブアプリケーションやシステム基盤に利用 |
| Amazon RDS         | 定番のリレーショナルデータベース6種類の製品をクラウド上で利用できる → Amazon Aurora, PostgreSQL, MySQL, MariaDB, Oracle Database, SQL Server | MySQLやPostgreSQLなどの既存のリレーショナルデータベースをクラウドで運用したい場合に利用 |
| Amazon Route 53    | DNS（ドメイン名とIPアドレスを紐づけて管理するシステム） | 高可用性のウェブサイトや分散システムのトラフィック管理に利用 |
| Elastic IP アドレス | 静的なグローバルIPアドレス（固定されたIPv4アドレス）を提供 → 動的なクラウド環境でも一貫したIPアドレスを維持 | ・再起動や障害後も同じIPアドレスでアクセスを維持したい場合 ・複数のEC2インスタンス間でIPアドレスを移動させる必要がある場合 |
| Amazon Managed | ブロックチェーンネットワークを作成・管理 | データの偽装や改ざんをチェックする基盤など |
| Amazon SageMaker  | 機械学習モデルの構築・トレーニング・デプロイ | 大量のデータを扱うAIアプリケーションや予測分析を迅速に実現したい場合に利用 |
| AWS Cloud9        | 統合開発ツール → ブラウザベースでコードの編集、実行、デバッグが可能 | チーム開発やリモート環境でのソフトウェア開発を効率化したい場合 |
| Amazon GameLift    | ゲームホスティングサービス | 世界中のプレイヤーに対して低遅延で安定したマルチプレイヤーゲーム体験を提供する必要がある場合に利用 （特にプレイヤー数に応じた柔軟なスケーリングが求められる場合に最適） |
| AWS Lambda         | サーバーレスでイベント駆動型のコード実行を可能にする → イベント例: S3のオブジェクト作成、API Gatewayからのリクエスト、DynamoDBの変更など | アップロードファイルの処理やAPIのバックエンドなど、トリガーベースで小規模な処理を実行する場合に最適 |
| Amazon CloudWatch  | AWSリソースやアプリケーションのログとパフォーマンスを監視 | システムの異常検知やパフォーマンスのモニタリングを必要とする場面で活用 |

### AWSのコストに関してメリット、デメリットを説明できるか

- メリット
  - 運用コストの最適化：従量制で、無駄なコストを削減できる
  - イニシャルコストの削減
  - スケーラビリティ：需要に応じてリソースを迅速にスケールアップまたはダウンさせることが可能で、コストを効率的に管理できる
- デメリット
  - 料金の変動：使用量に応じて予期せぬ高額になる可能性がある
  - コスト管理の複雑化：多様なサービスと料金体系により、正確なコスト予測と管理が難しくなる
  - ランニングコストが常に発生し、場合によってはオンプレミスの方が総じて安価になる可能性がある

### マルチAZにするメリットは何か（ググる）

- **マルチAZとは？**
  - https://envader.plus/article/296
  - 概要：物理的に独立した、複数の拠点で運用すること
  - 同一リージョン内の複数のAZ（Availability Zone）を使った構成のこと
  - AZ：1つ以上のデータセンターを論理的にまとめたもの（冗長的な電力源、ネットワーク、そして接続機能を備えている）
- **メリット**
  - **ビジネスの継続性を支える**
    - 高い耐障害性：一つのAZに障害が発生しても、他のAZでサービスを継続できるため、自然災害や電力障害などの局所的な問題からシステムを保護できる
    - 可用性の向上：一つのAZで障害が発生しても、他のAZでサービスを継続できるため、システムの可用性が大幅に向上
    - ダウンタイムの削減：障害発生時のダウンタイムを最小限に抑える
    - データの保全
    - 負荷分散（パフォーマンスの向上につながる）
- **デメリット**
  - 冗長化が前提として必須であり、コストが嵩む
  - データベースだけなど、**コストとパフォーマンスのバランス**を考慮することが重要
- **限界**
  - 大規模な災害や震災の場合は単一リージョンでは耐障害性が担保できない可能性がある → マルチリージョン戦略
- **ユースケース**
  - 電子商取引、金融サービス、ヘルスケアなどの分野でマルチAZの導入が不可欠

### 日本でサービスを公開する場合、リージョンはどこを選択すればいいか。理由も含めて。（ググる）

- **参考**: https://aws.taf-jp.com/blog/24167
- **リージョンの選び方**
  - 原則として利用者のいる地域に最も近いリージョン
  - ▼考慮事項
    - ターゲットのユーザーから物理的に近いリージョンを選ぶ → ネットワークレイテンシーを最小限に抑えてレスポンスタイムを短くする
    - 必要な機能が全て提供されているか → リージョンごとに提供されているサービスが異なるため
    - コスト → リージョンによって時間やデータ量あたりの単価は異なるため
- **答え**
  - 東京リージョン
  - 大阪リージョンもフルリージョンになったため、その他の項目を比較する必要がある
  - ただし、テスト環境や開発環境など、費用が安いリージョンも選択肢としてある

### マネージドサービスとは何か。利用するメリットは何か。

- **マネージドサービス**
  - AWS側で管理されるサービスの総称
    - 自動バックアップ
    - 自動アップデート
    - モニタリング
    - パッチ管理
    - セキュリティ
    - 故障に備えた**冗長化** → 同じシステムを複数用意することで緊急時にシステムダウンを防ぐ
- **メリット**
  - バックアップやアップデートが自動で行われる → 管理の手間が削減
- **デメリット**
  - 意図しないソフトウェアのアップデートやストレージ容量の増加に伴う料金の増加など

### 導入事例①,②のメリット、デメリットを説明できるか

- **導入事例①**
  - **メリット**
    - EC2インスタンス1つ：小規模なため、初期費用が小さく、利用するサービスも最小限で運用コストが低い
    - 耐障害性や可用性の確保（マルチAZ構成）
  - **デメリット**
    - EC2が単一障害点になっている
    - Wordpressに依存しており、AWSサービスでの補助に限界がある

- **導入事例②**
  - **メリット**
    - 負荷分散が可能
    - 耐障害性や可用性の確保（マルチAZ構成）
    - S3を画像・動画ストレージとして使用することで、EC2インスタンスの負荷を軽減できる（クライアントが直接S3からデータを取得し、EC2インスタンスでの処理を必要としないため）
  - **デメリット**
    - EC2インスタンスの冗長化と複数サービス利用により割高
    - トラフィック急増時にRDSがボトルネックになる可能性がある

### 導入事例②にELBがあって③にないのはなぜか

- **ELB**
  - 参考：[Elastic Load Balancing Elastic Load Balancing とは? - Elastic Load Balancing](https://docs.aws.amazon.com/ja_jp/elasticloadbalancing/latest/userguide/what-is-load-balancing.html)
  - **役割**
    - トラフィックの分散：受信したトラフィックを複数のアベイラビリティーゾーンの複数のターゲット (EC2 インスタンス、コンテナ、IP アドレスなど) に自動的に分散し、負荷を均等化
    - 高可用性の確保：正常なターゲットにのみトラフィックをルーティング
    - 自動スケーリングとの連携
  - **特徴**
    - コンピューティングリソースの追加と削除を自動で行い、可用性と耐障害性が向上
  - **ユースケース**
    - 高トラフィック・可用性が重要・スケーラビリティが必要
- **答え**
  - 業務システムはユーザー数が限られ、負荷分散の必要がないため
  - 可用性の必然性にもよるが、一時的なシステムダウンが致命的では無い場合、冗長化の必要もないため
  - →総じて業務システムはコスト効率の方が優先であるため

## Memo

- **VPC**
  - EC2、RDS、ELBを利用するのに必要
  - S3はVPCの外
- **定期的に情報収集していくのがAWSを使いこなすコツ**
  - 新機能・新サービスの追加のフォローアップが重要（AWS re:Invent）
  - まずは代わりのサービスが新しくリリースされていないか調べる
- **リージョン ＞ AZ ＞ DC**
- **大阪はフルリージョンになっている**
- **マルチAZの冗長構成はサーバー1つなの？**
  - RDSのマルチAZ構成
    - 物理的に2台のサーバーが使用され、**それぞれ異なるAZにインスタンスが配置される**ことで冗長性が確保される
    - ＝同じインスタンスが異なる物理的なサーバーで扱えるようになっている
- **ゲートウェイエンドポイントって？**
  - VPC内でAWSサービス（S3やDynamoDBなど）へのプライベート接続を提供する仕組み（インターネットを経由しない）
  - VPC内のリソースがAWSサービスに直接アクセスするためのエンドポイント
  - セキュリティ、パフォーマンス、コストの面で利点をもたらす
